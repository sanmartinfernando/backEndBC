"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ui_1 = require("../ui");
class PluginsLoader {
    load(plugins = []) {
        const pluginRefs = (plugins || []).map(name => require(name));
        const beforeHooks = [];
        const afterHooks = [];
        pluginRefs.forEach((plugin, index) => {
            if (!plugin.before && !plugin.after) {
                throw new Error(ui_1.CLI_ERRORS.WRONG_PLUGIN(plugins[index]));
            }
            plugin.before && beforeHooks.push(plugin.before);
            plugin.after && afterHooks.push(plugin.after);
        });
        return {
            beforeHooks,
            afterHooks,
        };
    }
}
exports.PluginsLoader = PluginsLoader;
